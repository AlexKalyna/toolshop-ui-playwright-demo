# SonarQube Project Configuration
# This file configures SonarQube analysis for the Toolshop UI E2E Playwright Demo project

# Project identification
sonar.projectKey=toolshop-ui-e2e-playwright-demo
sonar.projectName=Toolshop UI E2E Playwright Demo
sonar.projectVersion=1.0.0

# Source code configuration
sonar.sources=app,utils,env
sonar.tests=tests

# Language-specific settings
sonar.language=ts

# Test configuration
sonar.test.inclusions=**/*.test.ts,**/*.spec.ts
# Use JUnit report produced by Playwright
sonar.junit.reportPaths=test-results/junit.xml

# Coverage settings
# Playwright e2e tests do not produce code coverage for application code by default.
# Exclude all files from coverage to avoid misleading coverage gates.
sonar.coverage.exclusions=**/*

# Code exclusions
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/.github/**,**/playwright-report/**,**/test-results/**,**/docs/**,**/*.md,**/*.json,**/*.yml,**/*.yaml,**/perf/**,**/misc/**,**/data/**,**/models/**,**/fixtures/**,**/tests/_extras/**,**/tests/screenshot/**

# Encoding
sonar.sourceEncoding=UTF-8

# Quality Gate settings
sonar.qualitygate.wait=true

# Relax quality gate for demo project
sonar.qualitygate.skip=false

# Additional exclusions for demo project
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1186
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.ts
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1481
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.ts
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S1854
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.ts
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S1118
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.ts
sonar.issue.ignore.multicriteria.e5.ruleKey=typescript:S1068
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*.ts
sonar.issue.ignore.multicriteria.e6.ruleKey=typescript:S1144
sonar.issue.ignore.multicriteria.e6.resourceKey=**/*.ts

# Analysis settings
sonar.scm.provider=git
sonar.scm.forceReloadAll=true

# SonarCloud settings for local scans
sonar.host.url=https://sonarcloud.io
sonar.organization=alexkalyna

# Compare new code against main for Quality Gate (recommended for PRs/branches)
sonar.newCode.referenceBranch=main

# Exclude markdown and text files from text/secrets analysis
sonar.text.exclusions=**/*.md,**/*.txt

# TypeScript specific settings
sonar.typescript.tsconfigPath=tsconfig.json

# No explicit coverage threshold as coverage is excluded above